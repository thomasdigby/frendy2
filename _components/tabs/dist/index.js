!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.frtabs=e()}(this,function(){"use strict";function t(t){function o(){x.forEach(function(t){t.setAttribute("role","tablist")}),k.forEach(function(t){t.setAttribute("role","presentation")}),S.forEach(function(t){t.setAttribute("role","tab"),t.setAttribute("aria-controls",t.hash.substring(1))}),T.forEach(function(t,e){t.setAttribute("role","tabpanel"),t.setAttribute("aria-labelledby",S[e].id),t.setAttribute("tabindex",0)})}function a(){x.forEach(function(t){t.removeAttribute("role")}),k.forEach(function(t){t.removeAttribute("role")}),S.forEach(function(t){t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex")}),T.forEach(function(t){t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-hidden"),t.removeAttribute("tabindex")})}function u(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];S.forEach(function(t){t.setAttribute("tabindex",-1),t.removeAttribute("aria-selected")}),T.forEach(function(t){t.setAttribute("aria-hidden","true")}),t.setAttribute("tabindex",0),t.setAttribute("aria-selected","true"),e&&t.focus(),document.getElementById(t.getAttribute("aria-controls")).removeAttribute("aria-hidden"),L.activeTab=S.indexOf(t),L.emit("tab")}function c(t){u(t.currentTarget),t.preventDefault()}function l(t){if(!t.metaKey&&!t.altKey){var n=t.currentTarget,r=e(n,p),o={};switch(t.keyCode){case 37:case 38:o=n.parentNode.previousElementSibling||r.lastElementChild;break;case 39:case 40:o=n.parentNode.nextElementSibling||r.firstElementChild;break;default:return}u(i('[role="tab"]',o)[0]),t.preventDefault()}}function f(){S.forEach(function(t){t.addEventListener("click",c),t.addEventListener("keydown",l)})}function s(){S.forEach(function(t){t.removeEventListener("click",c),t.removeEventListener("keydown",l)})}function d(){a(),s()}function b(){t&&(o(),f(),u(S[0]),t.classList.add(g),n(function(){return L.emit("init")}))}function v(t){u(S[t])}var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=m.listSelector,p=void 0===h?".js-fr-tabs__tablist":h,E=m.panelSelector,A=void 0===E?".js-fr-tabs__panel":E,y=m.readyClass,g=void 0===y?"is-ready":y;if("querySelector"in document&&"addEventListener"in window&&document.documentElement.classList){var x=i(p,t),k=i(p+" li",t),S=i(p+" a",t),T=i(A,t),L=r({init:b,destroy:d,goToTab:v,activeTab:0});return b(),L}}var e=function(t,e){if(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,"function"==typeof Element.prototype.closest)return t.closest(e);for(var n=t;n&&1===n.nodeType;){if(n.matches(e))return t;n=n.parentNode}return null},n=function(t){return"function"==typeof t&&setTimeout(t,0)},r=function(){function t(t,e){i[t]=i[t]||[],i[t].push(e)}function e(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=i[t];e?n.splice(n.indexOf(e),1):delete i[t]}function n(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=i[t];a&&a.forEach(function(t){return t.apply(e,r)})}var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i={};return Object.assign(r,{on:t,off:e,emit:n})},i=function(t){var e=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return[].slice.call(e.querySelectorAll(t))};return t});
