!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.froffcanvas=e()}(this,function(){"use strict";function t(){function t(t,e){return i[t]=i[t]||[],i[t].push(e),this}function e(t){for(var e=this,n=arguments.length,o=Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];var c=i[t];if(c)return c.forEach(function(t){return t.apply(e,o)}),this}var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i={};return Object.assign(n,{on:t,emit:e})}function e(e){function r(){e.setAttribute("aria-hidden",!0)}function c(){e.removeAttribute("aria-hidden",!0)}function u(){e.style.visibility="visible",e.setAttribute("aria-hidden",!1),e.setAttribute("tabindex",-1),e.focus(),i(p),i(h),i(y),i(m),e.scrollTop=0,e.classList.add(M),D.emit("show")}function s(){e.style.visibility="hidden",e.setAttribute("aria-hidden",!0),e.removeAttribute("tabindex"),e.blur(),L(),b(),E(),v(),e.classList.remove(M),D.emit("hide"),B&&(B.focus(),B=null)}function f(t){B=t.currentTarget,u()}function a(){s()}function l(t){t.target===e||n(t.target,"#"+e.getAttribute("id"))||s()}function d(t){27===t.keyCode&&s()}function v(){z.forEach(function(t){return t.addEventListener("click",f)})}function m(){o(T,e).forEach(function(t){return t.addEventListener("click",a)})}function y(){document.addEventListener("click",l)}function h(){document.addEventListener("keydown",d)}function p(){z.forEach(function(t){return t.removeEventListener("click",f)})}function E(){o(T,e).forEach(function(t){return t.removeEventListener("click",a)})}function b(){document.removeEventListener("click",l)}function L(){document.removeEventListener("keydown",d)}function A(){c(),p(),L(),b(),E(),e.classList.remove(M),e.classList.remove(q),e.style.visibility="",B=null}function g(){e&&(r(),v(),e.classList.add(q),i(function(){return D.emit("init")}))}function k(){u()}function w(){s()}var S=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],x=S.closeSelector,T=void 0===x?".js-fr-offcanvas-close":x,j=S.readyClass,q=void 0===j?"fr-offcanvas--is-ready":j,C=S.activeClass,M=void 0===C?"fr-offcanvas--is-active":C;if("querySelector"in document&&"addEventListener"in window&&document.documentElement.classList){var z=o('[aria-controls="'+e.getAttribute("id")+'"]'),B=null,D=t({init:g,destroy:A,show:k,hide:w});return g(),D}}var n=function(t,e){var n=function(t,e){if(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector,"function"==typeof Element.prototype.matches)return t.matches(e);for(var n=(t.document||t.ownerDocument).querySelectorAll(e),i=0;n[i]&&n[i]!==t;)++i;return Boolean(n[i])};if("function"==typeof Element.prototype.closest)return t.closest(e);for(var i=t;i&&1===i.nodeType;){if(n(i,e))return t;i=i.parentNode}return null},i=function(t){"function"==typeof t&&setTimeout(t,0)},o=function(t){var e=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return[].slice.call(e.querySelectorAll(t))};return e});
