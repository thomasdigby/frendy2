!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.froffcanvas=e()}(this,function(){"use strict";function t(t){function r(){t.setAttribute("aria-hidden",!0)}function c(){t.removeAttribute("aria-hidden",!0)}function u(){t.style.visibility="visible",t.setAttribute("aria-hidden",!1),t.setAttribute("tabindex",-1),t.focus(),n(p),n(y),n(h),n(m),t.scrollTop=0,t.classList.add(q),z.isOpen=!0,z.emit("show")}function s(){var e=arguments.length<=0||void 0===arguments[0]?N:arguments[0];t.style.visibility="hidden",t.setAttribute("aria-hidden",!0),t.removeAttribute("tabindex"),t.blur(),L(),b(),E(),v(),t.classList.remove(q),z.isOpen=!1,z.emit("hide"),e&&(e.focus(),e=null)}function f(t){N=t.currentTarget,u()}function a(){s()}function d(n){n.target===t||e(n.target,"#"+t.getAttribute("id"))||s()}function l(t){27===t.keyCode&&s()}function v(){M.forEach(function(t){return t.addEventListener("click",f)})}function m(){o(S,t).forEach(function(t){return t.addEventListener("click",a)})}function h(){document.addEventListener("click",d)}function y(){document.addEventListener("keydown",l)}function p(){M.forEach(function(t){return t.removeEventListener("click",f)})}function E(){o(S,t).forEach(function(t){return t.removeEventListener("click",a)})}function b(){document.removeEventListener("click",d)}function L(){document.removeEventListener("keydown",l)}function g(){c(),p(),L(),b(),E(),t.classList.remove(q),t.classList.remove(j),t.style.visibility="",N=null}function k(){t&&(r(),v(),t.classList.add(j),n(function(){return z.emit("init")}))}function A(){u()}function w(t){s(t)}var x=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],O=x.closeSelector,S=void 0===O?".js-fr-offcanvas-close":O,T=x.readyClass,j=void 0===T?"fr-offcanvas--is-ready":T,C=x.activeClass,q=void 0===C?"fr-offcanvas--is-active":C;if("querySelector"in document&&"addEventListener"in window&&document.documentElement.classList){var M=o('[aria-controls="'+t.getAttribute("id")+'"]'),N=null,z=i({init:k,destroy:g,show:A,hide:w,isOpen:!1});return k(),z}}var e=function(t,e){var n=function(t,e){return Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,t.matches(e)};if("function"==typeof Element.prototype.closest)return t.closest(e);for(var i=t;i&&1===i.nodeType;){if(n(i,e))return t;i=i.parentNode}return null},n=function(t){return"function"==typeof t&&setTimeout(t,0)},i=function(){function t(t,e){o[t]=o[t]||[],o[t].push(e)}function e(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],n=o[t];e?n.splice(n.indexOf(e),1):delete o[t]}function n(t){for(var e=this,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var c=o[t];c&&c.forEach(function(t){return t.apply(e,i)})}var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],o={};return Object.assign(i,{on:t,off:e,emit:n})},o=function(t){var e=arguments.length<=1||void 0===arguments[1]?document:arguments[1];return[].slice.call(e.querySelectorAll(t))};return t});
